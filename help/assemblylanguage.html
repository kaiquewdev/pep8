<!DOCTYPE HTML PUBLIC "-//W3C/DTD HTML 4.01//EN">

<html>
<head><title> Pep/8: Assembly Language Documentation </title></head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#000033" alink="#0066FF">
<center>
<table bgcolor="#6699CC" width="100%" cellpadding="2" cellspacing="0" border="0"><tr><td>
<p align="center">
<font FACE="Geneva,Helvetica,Arial" size="3">
Assembly Language
</font></td></tr></table></center>
<p>
 Reference: <i>Computer Systems</i>, Chapters 5, 6.
<p>
An assembly language program is a sequence of lines, each line containing either an instruction
from the Pep/8 instruction set specfied by a mnemonic,
or a pseudo-operation, also called a pseudo-op or a dot command.
The assembly language program must end with the pseudo-op <code>.END</code>.

<h3>Writing an assembly language program</h3>

Writing an assembly language program is a four-step process.
<p>
Step 1.<br>
With this Pep/8 application, you write the assembly language program using the built-in text editor in the Source Code pane.
The following figure shows the source program after entering the program from Figure 5.18 of the textbook.
<p>
<i>Screenshot here of</i>
<pre>
;File: fig0518.pep
;Computer Systems, Fourth Edition
;Figure 5.18
;
         STRO    msg,d
         CHARO   '\n',i
         STOP
msg:     .ASCII  "Love\x00
         .END
</pre>
Strict formatting is not required as long as there is one instruction or dot command per line,
and at least one space between a mnemonic and an operand specifier.
For example, the above program could be entered as follows.
<p>
 <i>Screenshot here of</i>
<pre>
     ;File: fig0518.pep
;Computer Systems, Fourth Edition
;Figure 5.18
;
stro msg,d
charo '\n'      , i
STop
msg:.ASCII  "Love\x00
.ENd
</pre>
<p>
Step 2.<br>
After writing the assembly language program, assemble it by selecting Build->Assemble from the menu
or clicking on the hammer icon in the tool bar.
<p>
<i>Screenshots here of menu selection and hammer icon.</i>
<p>
If there are no errors, the translated program will appear in the Object Code pane,
and a formatted listing will appear in the Assembler Listing pane.
<p>
<i>Screenshots here of Object Code pane and Assembler Listing pane.</i>
<p>
If there is an error in your program, an error message will appear in the source code pane.
The following screen shot shows what would happen if you fail to supply the addressing mode for
the <code>STRO</code> instruction.
<P>
<i>Screenshot here of the following program.</i>
<pre>
;File: fig0518.pep
;Computer Systems, Fourth Edition
;Figure 5.18
;
         STRO    msg;ERROR: Addressing mode required for this instruction.
         CHARO   '\n',i
         STOP
msg:     .ASCII  "Love\x00"
         .END
</pre>
If you would like, you can select Build->Remove Error Messages from the menu to delete the error message.
Then, you can correct your error and try to assemble your program again.
It is not necessary to remove the error message before correcting your program, as error messages
are automatically removed when you assemble your program.
<p>
Once you assemble your program so that a formatted listing appears in the Assembler Listing pane,
you can select Edit->Format From Listing from the menu.
Your source code will be replaced with the standard formatted source code extracted from the Assembler Listing pane.
<p>
<i>Screenshot here of the menu selection.</i>
<p>
Step 3.<br>
Load your program by selecting Build -> Load from the menu.
<p>
<i>Screenshot here of the menu selection.</i>
<p>
Step 4.<br>
To execute the program select Build -> Execute from the menu.
<p>
<i>Screenshot here of the menu selection.</i>

<h3>The Run Option</h3>

The three steps -- Assemble, Load, Execute -- are combined in the single option called Run.
You can initiate a run by selecting Build->Run from the menu or by clicking on the Run icon in the tool bar.
<p>
<i>Screenshots here of menu selection and run icon.</i>

</body>
</html>
